@use 'lib/layout';
@use 'lib/reset';

@use 'navBar';

$mainContentMaxWidth: 600px;
$mainContentLeftPadding: navBar.$menuBtnWidth + 30px;
$mainContentMinWidth: 320px - $mainContentLeftPadding - navBar.$menuBtnWidth;

$bodyBgCol: rgb(255, 255, 252);
$navBarBgCol: rgb(50, 50, 50);
$navBarSelectedCol: rgb(100, 150, 230);

body {
	--navBarVisible: 0;
	--menuBtnVisible: 1;

	font-family: "times new roman", sans-serif;
	background-color: $bodyBgCol;
}

h1 {
	font-size: 2rem;
	font-weight: bold;
}

h2 {
	font-size: 1.5rem;
	font-weight: 300;
}

h3 {
	font-size: 1.25rem;
	font-weight: 150;
}

.slideBarLayout {
	position: absolute;
	width: 100%;
	height: 100%;

	@include layout.slideBarLayout(
		left,
		navBar.$navBarWidth,
		var(--navBarVisible),
		calc(1 - var(--menuBtnVisible)),
		.5s
	);
}

@include navBar.navBar(
	var(--menuBtnVisible),
	var(--navBarVisible),
	$navBarBgCol,
	$bodyBgCol
);

#mainContent {
	filter: blur(calc(var(--navBarVisible) * 3px));
	transition: transform .5s ease-out, margin-left .5s ease-out, filter .5s ease-out;

	#titleBar {
		margin-left: auto;
		width: calc(100% - (1 + var(--menuBtnVisible)) * #{navBar.$menuBtnWidth});
		height: navBar.$menuBtnHeight;

		transition: width .5s ease-out;

		display: flex;
		flex-flow: column wrap;
		justify-content: center;
	}

	#content {
		margin-left: calc(#{navBar.$menuBtnWidth} + var(--menuBtnVisible) * #{navBar.$menuBtnWidth} / 2);
		margin-right: navBar.$menuBtnWidth;
		max-width: 700px;
		line-height: 1.4;

		transition: margin-left .5s ease-out;

		>h2 {
			padding-bottom: 5px;
		}

		>h2:nth-child(n+2) {
			padding-top: 15px;
		}

		>p + p {
			text-indent: 1cm;
		}

		ul {
			padding-top: .2cm;
			padding-bottom: .2cm;
			margin-left: 1cm;
		}
	}
}

@media only screen and (min-width: navBar.$navBarWidth + 30px + $mainContentMaxWidth + 30px) {
	body {
		--navBarVisible: 1;
		--menuBtnVisible: 0;
	}

	#mainContent {
		filter: none;
	}
}
